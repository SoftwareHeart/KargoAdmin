@using Microsoft.AspNetCore.Identity
@using KargoAdmin.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Aleris Global Lojistik</title>
    <link rel="stylesheet" href="~/css/poppins-fonts.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/public.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/navbar.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/hero.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/animation-section.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/services-section.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/fleet-showcase.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/sector-leader.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/footer.css" asp-append-version="true" />
    <!-- Font Awesome CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <header>
        <nav class="modern-navbar" id="modernNavbar">
            <div class="navbar-container">
                <!-- Logo -->
                <div class="navbar-logo">
                    <a href="/">
                        <img src="~/img/Logo.png" alt="Aleris Global Lojistik" />
                    </a>
                </div>

                <!-- Menu Items -->
                <div class="navbar-menu" id="navbarMenu">
                    <a href="/" class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "Index" && ViewContext.RouteData.Values["Controller"].ToString() == "Public" ? "active" : "")">Anasayfa</a>

                    <!-- Hizmetlerimiz Dropdown -->
                    <div class="nav-dropdown">
                        <a href="#" class="nav-item dropdown-toggle @(ViewContext.RouteData.Values["Action"].ToString() == "Services" ? "active" : "")">
                            Hizmetlerimiz
                            <i class="fas fa-chevron-down"></i>
                        </a>
                        <div class="dropdown-menu-custom">
                            <a href="/Aleris/Servisler/KaraYolu" class="dropdown-item-custom">
                                <i class="fas fa-truck"></i>
                                Kara Yolu Taşımacılığı
                            </a>
                            <a href="/Aleris/Servisler/DenizYolu" class="dropdown-item-custom">
                                <i class="fas fa-plane"></i>
                                Hava Yolu Taşımacılığı
                            </a>
                            <a href="/Aleris/Servisler/HavaYolu" class="dropdown-item-custom">
                                <i class="fas fa-ship"></i>
                                Deniz Yolu Taşımacılığı
                            </a>
                            <a href="/Aleris/Servisler/DepolamaDagitim" class="dropdown-item-custom">
                                <i class="fas fa-warehouse"></i>
                                Depolama Dağıtım
                            </a>
                        </div>
                    </div>

                    <a href="/Blog" class="nav-item @(ViewContext.RouteData.Values["Controller"].ToString() == "PublicBlog" ? "active" : "")">Haberler</a>
                    <a href="@Url.Action("Index", "UsefulInfo")" class="nav-item @(ViewContext.RouteData.Values["Controller"].ToString() == "UsefulInfo" ? "active" : "")">
                        Faydalı Bilgiler
                    </a>
                    <a href="/Aleris/Hakkımızda" class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "About" ? "active" : "")">Hakkımızda</a>
                </div>

                <!-- Right Side - Search & Contact & Language -->
                <div class="navbar-actions">
                    <!-- Search Icon -->
                    <button class="search-btn" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="fas fa-search"></i>
                    </button>

                    <!-- Contact Button -->
                    <a href="/Aleris/Iletisim" class="contact-btn">İletişime Geç!</a>

                    <!-- Language Flags -->
                    <div class="language-flags">
                        <img src="~/img/EngIcon.png" alt="English" class="flag-icon" onclick="changeLanguage('en')" />
                        <img src="~/img/TrIcon.png" alt="Türkçe" class="flag-icon active" onclick="changeLanguage('tr')" />
                    </div>
                </div>

                <!-- Mobile Menu Toggle -->
                <button class="mobile-toggle" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="searchModalLabel">Arama</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="searchForm">
                        <div class="mb-3">
                            <label for="searchQuery" class="form-label">Ne aramak istiyorsunuz?</label>
                            <input type="text" class="form-control" id="searchQuery" placeholder="Arama teriminizi giriniz...">
                        </div>
                        <div class="mb-3">
                            <small class="text-muted">
                                <i class="fas fa-lightbulb me-1"></i>
                                İpucu: Hizmetler, blog yazıları veya genel bilgiler arayabilirsiniz.
                            </small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                    <button type="button" class="btn btn-primary" onclick="performSearch()">
                        <i class="fas fa-search me-1"></i>
                        Ara
                    </button>
                </div>
            </div>
        </div>
    </div>

    <main>
        @RenderBody()
    </main>

    <footer class="modern-footer">

        <!-- Ana Footer -->

        <div class="footer-main">

            <div class="footer-container">

                <!-- Logo Section - Üst kısım -->

                <div class="footer-logo-section">

                    <div class="footer-logo">

                        <img src="~/img/Logo.png" alt="Aleris Global Lojistik" />

                    </div>

                </div>



                <!-- Footer Grid - 4 Kolon -->

                <div class="footer-grid">

                    <!-- Hakkımızda Kolonu -->

                    <div class="footer-column">

                        <h5>Hakkımızda</h5>

                        <ul>

                            <li><a href="/Public/Services">Hizmetlerimiz</a></li>

                            <li><a href="/Public/Services#sea">Deniz Taşımacılığı</a></li>

                            <li><a href="/Public/Services#land">Karayolu Taşımacılığı</a></li>

                            <li><a href="/Public/Services#air">Hava Kargo</a></li>

                            <li><a href="/PublicBlog">Blog</a></li>

                            <li><a href="#">Store</a></li>

                        </ul>

                    </div>



                    <!-- Sık Sorulan Sorular Kolonu -->

                    <div class="footer-column">

                        <h5>Sıkça Sorulan Sorular</h5>

                        <ul>

                            <li><a href="#">Gizlilik Politikası</a></li>

                            <li><a href="#">Kullanım Koşulları</a></li>

                            <li><a href="#">LinkedIn</a></li>

                            <li><a href="#">Instagram</a></li>

                            <li><a href="#">Facebook</a></li>

                            <li><a href="#">YouTube</a></li>

                        </ul>

                    </div>



                    <!-- Sosyal Medya Kolonu -->

                    <div class="footer-column">

                        <h5>Sosyal Medya</h5>

                        <ul>

                            <li><a href="#">LinkedIn</a></li>

                            <li><a href="#">Instagram</a></li>

                            <li><a href="#">Facebook</a></li>

                            <li><a href="#">YouTube</a></li>

                        </ul>

                    </div>



                    <!-- Newsletter Kolonu -->

                    <div class="footer-column newsletter-column">

                        <h5 class="newsletter-title">Bültene Abone Olun</h5>



                        <form class="newsletter-form" action="#" method="post">

                            <input type="email" class="newsletter-input" placeholder="E-posta adresinizi giriniz" required>

                            <button type="submit" class="newsletter-button">

                                <i class="fas fa-search"></i>

                            </button>

                        </form>

                    </div>

                </div>



                <!-- Alt Kısım - Açıklama ve Sosyal İkonlar -->

                <div class="row">

                    <div class="col-lg-8">

                        <div class="footer-description-section">

                            <p class="footer-description">

                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi a sem massa. Vestibulum dapibus risus at elementd convallis. Pellentesque viverra lacinia elit aliquet bibendum.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi a sem massa. Vestibulum dapibus risus at elementd convallis. Pellentesque viverra lacinia elit aliquet bibendum.

                            </p>

                        </div>

                    </div>

                    <div class="col-lg-4">

                        <div class="footer-social-section">

                            <div class="footer-social">

                                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>

                                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>

                                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>

                                <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>

                                <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>

                                <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

        </div>



        <!-- Footer Bottom -->

        <div class="footer-bottom">

            <div class="footer-bottom-container">

                <div class="footer-bottom-left">

                    <div class="footer-bottom-links">

                        <a href="#">Şartlar ve Koşullar</a>

                        <a href="#">Gizlilik</a>

                        <a href="#">Çerezler</a>

                    </div>

                </div>

                <div class="footer-copyright">

                    © Aleris Global Lojistik Tüm Hakları Saklıdır. @DateTime.Now.Year

                </div>

            </div>

        </div>

    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script>
            (function() {
            let lastScrollTop = 0;
            let scrollDirection = 'up';
            let isScrolling = false;

            // Navbar scroll effect with hide/show functionality
            window.addEventListener('scroll', function() {
                if (isScrolling) return;

                isScrolling = true;

                requestAnimationFrame(function() {
                    const navbar = document.getElementById('modernNavbar');
                    const currentScroll = window.scrollY || document.documentElement.scrollTop;

                    // Scroll direction detection
                    if (currentScroll > lastScrollTop && currentScroll > 100) {
                        // Scrolling down & not near top
                        scrollDirection = 'down';
                        navbar.classList.add('navbar-hidden');
                        navbar.classList.remove('navbar-visible');
                    } else {
                        // Scrolling up OR near top
                        scrollDirection = 'up';
                        navbar.classList.remove('navbar-hidden');
                        navbar.classList.add('navbar-visible');
                    }

                    // Background transparency effect
                    if (currentScroll > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }

                    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
                    isScrolling = false;
                });
            }, { passive: true });

            // Initial state
            document.getElementById('modernNavbar').classList.add('navbar-visible');
        })();
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('navbarMenu');
            menu.classList.toggle('show');
        }

        // Language change function
        function changeLanguage(lang) {
            const flags = document.querySelectorAll('.flag-icon');
            flags.forEach(flag => flag.classList.remove('active'));

            if (lang === 'tr') {
                document.querySelector('img[alt="Türkçe"]').classList.add('active');
            } else {
                document.querySelector('img[alt="English"]').classList.add('active');
            }

            // Burada dil değiştirme işlemi yapılabilir
            console.log('Language changed to:', lang);
        }

        // Search function
        function performSearch() {
            const query = document.getElementById('searchQuery').value;
            if (query.trim()) {
                // Burada arama işlemi yapılabilir
                console.log('Searching for:', query);
                // Modal'ı kapat
                bootstrap.Modal.getInstance(document.getElementById('searchModal')).hide();
                // Arama sayfasına yönlendir veya sonuçları göster
                // window.location.href = '/search?q=' + encodeURIComponent(query);
            }
        }

        // Enter tuşu ile arama
        document.getElementById('searchQuery').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                performSearch();
            }
        });

        // Mobile menu dışına tıklayınca kapat
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('navbarMenu');
            const toggle = document.querySelector('.mobile-toggle');

            if (!menu.contains(e.target) && !toggle.contains(e.target)) {
                menu.classList.remove('show');
            }
        });

        // Dropdown'a tıklandığında da açılması için (mobile için)
        document.querySelector('.dropdown-toggle').addEventListener('click', function(e) {
            e.preventDefault();
            // Mobile'da dropdown toggle için ek işlevsellik eklenebilir
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>